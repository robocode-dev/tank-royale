<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="icon" href="/favicon.ico"><title>TPS (Turns Per Second) | Robocode Tank Royale Docs</title><meta name="description" content="Documentation for the programming game Robocode Tank Royale.">
    <link rel="preload" href="/tank-royale/assets/style.css" as="style"><link rel="stylesheet" href="/tank-royale/assets/style.css">
    <link rel="modulepreload" href="/tank-royale/assets/app.js"><link rel="modulepreload" href="/tank-royale/assets/tps.html.js">
    <link rel="prefetch" href="/tank-royale/assets/index.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/apis.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/tools.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/anatomy.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/booter.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/coordinates-and-angles.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/debug.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/game_types.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/gui.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/history.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/installation.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/intro.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/physics.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/scoring.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/tank-royale.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/beyond-the-basics.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/getting-started.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/my-first-bot.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/my-first-bot-for-jvm.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/my-first-bot-for-dotnet.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/my-first-bot-for-python.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/404.html.js" as="script"><link rel="prefetch" href="/tank-royale/assets/mermaid.core.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/tank-royale/"><img class="vp-site-logo" src="/tank-royale/Tank-logo.svg" alt="Robocode Tank Royale Docs"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Robocode Tank Royale Docs</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><!----><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/intro.html" aria-label="What is Robocode?"><!---->What is Robocode?<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/installation.html" aria-label="Installing and running Robocode"><!---->Installing and running Robocode<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/gui.html" aria-label="The GUI"><!---->The GUI<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/tutorial/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/tutorial/my-first-bot.html" aria-label="My First Bot tutorial"><!---->My First Bot tutorial<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/api/apis.html" aria-label="API Documentation"><!---->API Documentation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/tutorial/beyond-the-basics.html" aria-label="Beyond the Basics"><!---->Beyond the Basics<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/debug.html" aria-label="Debugging"><!---->Debugging<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/anatomy.html" aria-label="Anatomy"><!---->Anatomy<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/coordinates-and-angles.html" aria-label="Coordinates and Angles"><!---->Coordinates and Angles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/physics.html" aria-label="Physics"><!---->Physics<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/scoring.html" aria-label="Scoring"><!---->Scoring<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/booter.html" aria-label="Booter"><!---->Booter<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/tank-royale.html" aria-label="Tank Royale vs original Robocode"><!---->Tank Royale vs original Robocode<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/tank-royale/articles/history.html" aria-label="History of Robocode"><!---->History of Robocode<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="tps-turns-per-second" tabindex="-1"><a class="header-anchor" href="#tps-turns-per-second"><span>TPS (Turns Per Second)</span></a></h1><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p><em>Turns Per Second</em> is a term used in Robocode that can be compared to <a href="https://en.wikipedia.org/wiki/Frame_rate" title="Frame Rate and frames per second (FPS)" target="_blank" rel="noopener noreferrer">FPS</a> (Frames Per Second). So TPS is the <em>turn rate</em> defined as the number of turns in a battle that the server can execute per second.</p><h2 id="turn-timeout" tabindex="-1"><a class="header-anchor" href="#turn-timeout"><span>Turn timeout</span></a></h2><p>The game has a <em>turn timeout</em> defined as a part of the game rules. The turn timeout is specified in microseconds (µs), where a microsecond (µs) is a millionth of a second. The turn timeout is the amount of time that each bot is allowed to use for a single turn.</p><h3 id="skipped-turns" tabindex="-1"><a class="header-anchor" href="#skipped-turns"><span>Skipped turns</span></a></h3><p>If the bot spends more time than allowed by the turn timeout, then the bot will be <em>skipping the turn</em>, and have missed the opportunity to send its <em>intent</em> to the server. This means that the bot cannot fire the cannot, turn or change the speed, etc. in that turn. This happens because the server receives a <em>turn timeout</em> event, and hence concludes the turn, and starts processing the next turn.</p><h3 id="intents-sent-within-the-timeout-time" tabindex="-1"><a class="header-anchor" href="#intents-sent-within-the-timeout-time"><span>Intents sent within the timeout time</span></a></h3><p>A well-functioning bot will make sure to send its <em>intent</em> before the turn timeout occurs. So as soon as all bots have sent their <em>intent</em> in time, the server can conclude the turn. This will happen when the server receives the intent from the last and &quot;slowest&quot; bot sending the last intent. But this will still be faster than the turnout time.</p><h2 id="turn-rate-is-limited-by-the-turn-timeout" tabindex="-1"><a class="header-anchor" href="#turn-rate-is-limited-by-the-turn-timeout"><span>Turn rate is limited by the turn timeout</span></a></h2><p>So why is the turn timeout influencing the turn rate?</p><p>This is because the turn rate is constrained by how fast the turns are being processed. The faster the turns are processed, the higher the turn rate can go. So if a high turn rate is wanted, this will require a turn timeout that is low enough to allow it.</p><h2 id="maximum-turn-rate" tabindex="-1"><a class="header-anchor" href="#maximum-turn-rate"><span>Maximum turn rate</span></a></h2><p>The maximum turn rate can be calculated from the turn timeout:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>P</mi><msub><mi>S</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>&gt;</mo><mo>=</mo><mfrac><mrow><mn>1</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>o</mi><mi>u</mi><msub><mi>t</mi><mrow><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi></mrow></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">TPS_{max} &gt;= \frac{1,000,000}{timeout_{turn}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3423em;vertical-align:-0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8972em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">im</span><span class="mord mathnormal mtight">eo</span><span class="mord mathnormal mtight">u</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>So if the turn timeout is set to 30,000 µs, the maximum turn rate will be:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>P</mi><msub><mi>S</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>&gt;</mo><mo>=</mo><mfrac><mrow><mn>1</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><mrow><mn>30</mn><mo separator="true">,</mo><mn>000</mn></mrow></mfrac><mo>=</mo><mn>33.33333</mn></mrow><annotation encoding="application/x-tex">TPS_{max} &gt;= \frac{1,000,000}{30,000} = 33.33333</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3783em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8972em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">30</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">33.33333</span></span></span></span></p><p>The maximum turn rate, TPS<sub>max</sub> might be slightly higher due to the bots, all sending their intents before the timeout occurs.</p><h2 id="note-about-maximum-turn-rate" tabindex="-1"><a class="header-anchor" href="#note-about-maximum-turn-rate"><span>Note about maximum turn rate</span></a></h2><p>Be careful when setting the maximum turn rate! Setting the turn rate below 1 ms (1000 µs) is currently causing issues on some systems, meaning that the bots might not behave the same way as usual and seem to skip turns etc. This can be caused by both hardware limitations and OS limitations.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/tank-royale/assets/app.js" defer></script>
  </body>
</html>

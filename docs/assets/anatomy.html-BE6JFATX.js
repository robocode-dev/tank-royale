import{_ as a,a as e,b as t}from"./radar-no-sweep-_T1QAKPZ.js";import{_ as n,c as i,a as l,o as r}from"./app-DbV766BP.js";const o="data:image/svg+xml,%3csvg%20version='1.1'%20width='100'%20height='100'%20viewBox='0%200%20800%20800'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cuse%20xlink:href='%23body'%20transform='rotate(10,400,400)'%20/%3e%3c/g%3e%3cdefs%3e%3csymbol%20id='link0'%3e%3crect%20x='5'%20y='55'%20width='125'%20height='25'%20fill='%23aaaaaa'%20/%3e%3crect%20x='10'%20y='70'%20width='116'%20height='35'%20fill='%23666666'%20rx='10'%20ry='10'%20/%3e%3crect%20x='5'%20y='55'%20width='125'%20height='50'%20fill='none'%20stroke='black'%20stroke-width='10'%20rx='10'%20ry='10'%20/%3e%3c/symbol%3e%3csymbol%20id='link30'%3e%3crect%20x='5'%20y='55'%20width='125'%20height='25'%20fill='%23939393'%20/%3e%3crect%20x='10'%20y='70'%20width='116'%20height='30'%20fill='%23585858'%20rx='10'%20ry='10'%20/%3e%3crect%20x='5'%20y='55'%20width='125'%20height='42'%20fill='none'%20stroke='black'%20stroke-width='10'%20rx='10'%20ry='10'%20/%3e%3c/symbol%3e%3csymbol%20id='link60'%3e%3crect%20x='5'%20y='55'%20width='125'%20height='20'%20fill='%23555555'%20/%3e%3crect%20x='5'%20y='55'%20width='125'%20height='20'%20fill='none'%20stroke='black'%20stroke-width='10'%20rx='10'%20ry='10'%20/%3e%3c/symbol%3e%3csymbol%20id='main-track'%3e%3crect%20x='20'%20y='75'%20width='95'%20height='450'%20fill='%23333333'%20stroke='black'%20stroke-width='10'%20/%3e%3c/symbol%3e%3csymbol%20id='track2'%3e%3cuse%20xlink:href='%23main-track'%20x='0'%20y='0'%20/%3e%3cuse%20xlink:href='%23link60'%20x='0'%20y='0'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='33'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='113'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='193'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='273'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='353'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='433'%20/%3e%3c/symbol%3e%3csymbol%20id='track3'%3e%3cuse%20xlink:href='%23main-track'%20x='0'%20y='0'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='7'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='87'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='167'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='247'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='327'%20/%3e%3cuse%20xlink:href='%23link0'%20x='0'%20y='407'%20/%3e%3cuse%20xlink:href='%23link60'%20x='0'%20y='470'%20/%3e%3c/symbol%3e%3csymbol%20id='body'%3e%3cuse%20xlink:href='%23track2'%20x='150'%20y='100'%20/%3e%3cuse%20xlink:href='%23track3'%20x='515'%20y='100'%20/%3e%3crect%20x='240'%20y='190'%20width='320'%20height='420'%20fill='%23019'%20stroke='black'%20stroke-width='20'%20rx='10'%20ry='10'%20/%3e%3crect%20x='250'%20y='520'%20width='300'%20height='80'%20fill='black'%20opacity='0.5'%20/%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e",p="data:image/svg+xml,%3csvg%20version='1.1'%20width='100'%20height='100'%20viewBox='0%200%20550%20700'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cuse%20xlink:href='%23turret'%20transform='rotate(30,400,400)%20translate(-150,150)'%20/%3e%3c/g%3e%3cdefs%3e%3csymbol%20id='turret'%3e%3crect%20x='300'%20y='320'%20width='200'%20height='200'%20fill='%2306C'%20stroke='black'%20stroke-width='20'%20rx='10'%20ry='10'%20/%3e%3crect%20x='310'%20y='460'%20width='180'%20height='50'%20fill='black'%20opacity='0.5'%20/%3e%3crect%20x='360'%20y='240'%20width='80'%20height='80'%20fill='url(%23cannon-grad)'%20stroke='black'%20stroke-width='20'%20/%3e%3crect%20x='375'%20y='70'%20width='50'%20height='170'%20fill='url(%23cannon-grad)'%20stroke='black'%20stroke-width='20'%20/%3e%3clinearGradient%20id='cannon-grad'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='0%25'%3e%3cstop%20offset='0%25'%20stop-color='%23333'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23CCC'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23333'%20/%3e%3c/linearGradient%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e",c="/tank-royale/assets/center-BQUbZpaw.svg",h="/tank-royale/assets/bounding-circle-2nQtgKwp.svg",m={};function d(g,s){return r(),i("div",null,s[0]||(s[0]=[l('<h1 id="anatomy" tabindex="-1"><a class="header-anchor" href="#anatomy"><span>Anatomy</span></a></h1><h2 id="tank-parts" tabindex="-1"><a class="header-anchor" href="#tank-parts"><span>Tank parts</span></a></h2><p>A bot consists of three individual parts:</p><ul><li>Body</li><li>Gun</li><li>Radar</li></ul><p><img src="'+a+'" alt="Bot anatomy"></p><h2 id="body" tabindex="-1"><a class="header-anchor" href="#body"><span>Body</span></a></h2><p>The body carries the gun with the radar on top. The body is moving the bot forward and back, as well as turning left or right. The body uses its tracks to move around.</p><p><img src="'+o+'" alt="Bot anatomy"></p><h2 id="gun" tabindex="-1"><a class="header-anchor" href="#gun"><span>Gun</span></a></h2><p>The gun is mounted on the body and is firing energy bullets. The gun can turn left or right.</p><p><img src="'+p+'" alt="Radar sweep"></p><h2 id="radar" tabindex="-1"><a class="header-anchor" href="#radar"><span>Radar</span></a></h2><p>The radar is mounted on top of the gun and is scanning for other bots when turned. The radar can turn left or right. The radar is only scanning and detecting bots when while turning. And it is only able to scan bots that are within the radar sweep.</p><p><img src="'+e+'" alt="Bot anatomy"></p><h3 id="radar-sweep" tabindex="-1"><a class="header-anchor" href="#radar-sweep"><span>Radar sweep</span></a></h3><p>The radar sweep is a pie shape that starts from the center of the bot and has a fixed radius of 1200 units.</p><p>Two angles define the sides of the pie shape of the radar:</p><ul><li><strong>Start angle</strong>: The current angle of the radar.</li><li><strong>End angle</strong>: The angle of the radar from the previous turn.</li></ul><p>So the radar sweep is the delta angle going from the angle of the radar from the previous turn to the current turn. Hence, if the current angle of the radar and the angle from the last turn is the same, then there is no radar sweep being visualized as a line instead of a pie shape.</p><p><img src="'+t+'" alt="Bot anatomy"></p><p>Beware! If the radar is not moving (meaning no radar sweep), the radar will not be scanning opponent bots, so make sure the radar is kept busy.</p><h2 id="center" tabindex="-1"><a class="header-anchor" href="#center"><span>Center</span></a></h2><p>The x,y coordinate of the bot is in the exact center of the bot. All parts of the bot is rotated around the center, which is the local coordinate (0,0) seen from the bot´s perspective.</p><p><img src="'+c+'" alt="Bot anatomy"></p><h2 id="bot-dimensions" tabindex="-1"><a class="header-anchor" href="#bot-dimensions"><span>Bot dimensions</span></a></h2><p>The shape of the entire bot is a square with that span 36x36 units.</p><p>The center of the bot is at the x,y coordinate (18,18) compared to any of the bots &quot;corners&quot;.</p><h2 id="bounding-circle" tabindex="-1"><a class="header-anchor" href="#bounding-circle"><span>Bounding circle</span></a></h2><p>A <strong>bounding circle</strong> is being using for collision detection between a bot and another object like e.g. the wall, a bullet, or another bot. The center of the bounding circle is the center of the bot at (18,18) having a radius that is 18 units in length.</p><p><img src="'+h+`" alt="Bot anatomy"></p><h2 id="collision-detection" tabindex="-1"><a class="header-anchor" href="#collision-detection"><span>Collision detection</span></a></h2><p>Using a bounding circle makes it easy to check if e.g. a bullet has hit a bot, as we just need to calculate the distance between the bullet coordinate (x<sub>b</sub>, y<sub>b</sub>) and the x,y coordinate of the center of the bot (x<sub>c</sub>, y<sub>c</sub>):</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo stretchy="false">(</mo><mi>h</mi><mi>y</mi><mi>p</mi><mi>o</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>u</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mi mathvariant="normal">Δ</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">Δ</mi><msup><mi>y</mi><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d = distance (hypotenuse) = \\sqrt{\\Delta{x}^2 + \\Delta{y}^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">an</span><span class="mord mathnormal">ce</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">se</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2822em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9578em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9178em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2822em;"><span></span></span></span></span></span></span></span></span></p><p>Here Δx and Δy is the difference between the two coordinates i.e, the bot center and the bullet coordinate, on the x- and y-axis, where Δx = |x<sub>c</sub> - x<sub>b</sub>|, and Δy = |y<sub>c</sub> - y<sub>b</sub>|.</p><p>If the <em>distance</em> is lesser than the radius of the bot´s bounding circle, i.e. 18 units, then the bot has been hit by the bullet.</p><blockquote><p>With the original Robocode a bounding square of 36x36 units is being used for detection if a bot is hit or not.<br> However, this bounding square is not being rotation with the rotation of the body. Hence, with Tank Royale a bounding circle is being used instead, which does not need to be rotated with the bot rotation.</p></blockquote><h3 id="quicker-collision-detection" tabindex="-1"><a class="header-anchor" href="#quicker-collision-detection"><span>Quicker collision detection</span></a></h3><p>So with the formula above we can determine if a point is within 18 units of the center of the bot. We can rewrite the formula to get rid of the square root:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mn>2</mn></msup><mo>=</mo><mi mathvariant="normal">Δ</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">Δ</mi><msup><mi>y</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">d^2 = \\Delta{x}^2 + \\Delta{y}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><p>This means that we just need to calculate Δx<sup>2</sup> + Δy<sup>2</sup> and see if it is lesser than 324 (18<sup>2</sup>) to see if the point is within the bounding circle.</p>`,40)]))}const b=n(m,[["render",d],["__file","anatomy.html.vue"]]),f=JSON.parse('{"path":"/articles/anatomy.html","title":"Anatomy","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Tank parts","slug":"tank-parts","link":"#tank-parts","children":[]},{"level":2,"title":"Body","slug":"body","link":"#body","children":[]},{"level":2,"title":"Gun","slug":"gun","link":"#gun","children":[]},{"level":2,"title":"Radar","slug":"radar","link":"#radar","children":[{"level":3,"title":"Radar sweep","slug":"radar-sweep","link":"#radar-sweep","children":[]}]},{"level":2,"title":"Center","slug":"center","link":"#center","children":[]},{"level":2,"title":"Bot dimensions","slug":"bot-dimensions","link":"#bot-dimensions","children":[]},{"level":2,"title":"Bounding circle","slug":"bounding-circle","link":"#bounding-circle","children":[]},{"level":2,"title":"Collision detection","slug":"collision-detection","link":"#collision-detection","children":[{"level":3,"title":"Quicker collision detection","slug":"quicker-collision-detection","link":"#quicker-collision-detection","children":[]}]}],"git":{"updatedTime":1692560331000},"filePathRelative":"articles/anatomy.md"}');export{b as comp,f as data};

# ADR-0006: Session ID for Bot Process Identification

**Status:** Accepted (Implemented in v0.17.1)  
**Date:** 2026-02-14 (Documenting historical decision from 2022)

---

## Context

When running multiple instances of the same bot, there was no way to correlate:

- **Process level:** Bot identified by Process ID
- **Connection level:** Bot identified by session
- **Battle level:** Bot identified by battle ID

**Example problem:** Running 3 instances of "MyBot":

- Process: `(MyBot, processId1)`, `(MyBot, processId2)`, `(MyBot, processId3)`
- Connection: `(MyBot, host, port1)`, `(MyBot, host, port2)`, `(MyBot, host, port3)`
- Battle: `(id1)`, `(id2)`, `(id3)`

No way to match these lists without guessing.

---

## Decision

Use **session ID** generated by the server as the common identifier across all levels.

**Flow:**

1. Server generates unique `sessionId` on bot connection
2. Bot receives `sessionId` in server handshake
3. Bot sends `sessionId` back in bot handshake
4. `sessionId` included in `BotListUpdate` and `TickEventForObserver`

**Mapping:** `Process ID → sessionId → battleId`

---

## Consequences

- ✅ Unique identification across process, connection, and battle levels
- ✅ Works for any bot implementation (not just official Bot APIs)
- ✅ No dependency on platform-specific Process ID handling

---

## References

- [GitHub Issue #43](https://github.com/robocode-dev/tank-royale/issues/43)
- Original discussion with SirStone (September 2022)
- Implemented in release 0.17.1
